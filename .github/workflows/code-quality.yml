================================================================================
íŒŒì¼ëª…: .github/workflows/code-quality.yml
ì„¤ëª…: ì½”ë“œ í’ˆì§ˆ ê²€ì‚¬ ì›Œí¬í”Œë¡œìš° (PR ì‹œ ì»¤ë²„ë¦¬ì§€ ê²€ì¦)
================================================================================

name: ì½”ë“œ í’ˆì§ˆ ê²€ì‚¬

on:
  pull_request:
    branches: [ main ]

jobs:
  lint:
    name: ì½”ë“œ í’ˆì§ˆ ë¶„ì„
    runs-on: ubuntu-latest
    
    steps:
      - name: ğŸ“¥ ì½”ë“œ ì²´í¬ì•„ì›ƒ
        uses: actions/checkout@v4
      
      - name: ğŸŸ¢ Node.js ì„¤ì •
        uses: actions/setup-node@v4
        with:
          node-version: '20.x'
          cache: 'npm'
      
      - name: ğŸ“¦ ì˜ì¡´ì„± ì„¤ì¹˜
        run: npm ci
      
      # ì»¤ë²„ë¦¬ì§€ ì„ê³„ê°’ ê²€ì¦
      - name: ğŸ“Š ì»¤ë²„ë¦¬ì§€ ì„ê³„ê°’ ê²€ì¦
        run: npm run test:coverage
      
      - name: ğŸ“ˆ ì»¤ë²„ë¦¬ì§€ ë¦¬í¬íŠ¸ ì½”ë©˜íŠ¸
        uses: romeovs/lcov-reporter-action@v0.3.1
        if: github.event_name == 'pull_request'
        with:
          lcov-file: ./coverage/lcov.info
          github-token: ${{ secrets.GITHUB_TOKEN }}
          title: "í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ ë¦¬í¬íŠ¸"
